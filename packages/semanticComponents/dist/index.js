"use strict";Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const r=require("react"),h=({condition:t,render:e})=>t?r.createElement(r.Fragment,null,e):null,w=({eachIn:t,render:e})=>r.createElement(r.Fragment,null,t.map((s,n)=>r.createElement(r.Fragment,{key:n},e(s)))),I=()=>{const[t,e]=r.useState(!1);return r.useEffect(()=>(e(!0),()=>e(!1)),[]),t},y=t=>{const[e,s]=r.useState(t);return[e,()=>s(o=>!o)]},b=(t,e)=>{const s=r.useRef(t);r.useEffect(()=>{s.current=t},[t]),r.useEffect(()=>{if(e!==null){const n=setInterval(s.current,e);return()=>clearInterval(n)}},[e])},F=t=>{const e=r.useRef();return r.useEffect(()=>{e.current=t},[t]),e.current},D=(t,e)=>{const[s,n]=r.useState(t);return r.useEffect(()=>{const o=setTimeout(()=>n(t),e);return()=>clearTimeout(o)},[t]),s},p=t=>{const[e,s]=r.useState(!1);return r.useEffect(()=>{const n=new IntersectionObserver(([o])=>s(o.isIntersecting));return t.current&&n.observe(t.current),()=>n.disconnect()},[t]),e},V=t=>{const e=r.useRef(null);return r.useEffect(()=>{const s=n=>{e.current&&!e.current.contains(n.target)&&t()};return document.addEventListener("mousedown",s),()=>document.removeEventListener("mousedown",s)},[t]),e},O=({when:t,children:e=null})=>t?r.createElement(r.Fragment,null,e):null,T=({expression:t,children:e})=>{let s=null;return r.Children.forEach(e,n=>{!s&&r.isValidElement(n)&&(n.props.value===t||n.props.default)&&(s=n)}),s},C=({value:t,default:e,children:s})=>r.createElement(r.Fragment,null,s),L=({value:t,children:e})=>{const s=typeof e=="function";return r.createElement(r.Fragment,null,"return ",r.createElement(r.Fragment,null,s?e(t):e),";")};var d=(t=>(t.DESKTOP="Desktop",t.MOBILE="Mobile",t))(d||{});const m=t=>{const e=t||1024,[s,n]=r.useState(window.innerWidth>=e?"Desktop":"Mobile");return r.useEffect(()=>{const o=()=>{window.innerWidth>=e?n("Desktop"):n("Mobile")};return window.addEventListener("resize",o),()=>window.removeEventListener("resize",o)},[]),s},M=({baseWidth:t,children:e})=>m(t)===d.DESKTOP?r.createElement(r.Fragment,null,e):null,z=async(t,e=[])=>{r.useEffect(()=>{(async()=>{try{const n=await t();if(n)return n}catch(n){console.error(n)}})()},e)},K=()=>{const[t,e]=r.useState({width:0,height:0});return[r.useCallback(n=>{if(n!==null){const o=()=>{e({width:n.offsetWidth,height:n.offsetHeight})};o();const u=new ResizeObserver(o);return u.observe(n),()=>u.disconnect()}},[]),t]},R=t=>{const[e,s]=r.useState([]);r.useEffect(()=>{const n=({key:u})=>{e.includes(u)||s(a=>[...a,u])},o=({key:u})=>{s(a=>a.filter(c=>c!==u))};return document.addEventListener("keyup",o),document.addEventListener("keydown",n),()=>{document.removeEventListener("keyup",o),document.removeEventListener("keydown",n)}},[e]),r.useEffect(()=>{t.forEach(({keys:n,callback:o})=>{n.every(a=>e.includes(a))&&o()})},[e,t])},N=({delay:t,children:e})=>{const[s,n]=r.useState(!1);return r.useEffect(()=>{const o=setTimeout(()=>n(!0),t);return()=>clearTimeout(o)}),s?r.createElement(r.Fragment,null,e):null},g=["mousemove","keydown","click","scroll"],$=(t=3e4)=>{const[e,s]=r.useState(!1);return r.useEffect(()=>{console.log("idle state: ",e)},[e]),r.useEffect(()=>{let n;const o=()=>{s(!1),clearTimeout(n),n=setTimeout(()=>s(!0),t)},u=()=>{o()};for(const a of g)window.addEventListener(a,u);return o(),()=>{for(const a of g)window.removeEventListener(a,u);clearTimeout(n)}},[t]),e},A=r.memo(({deps:t,children:e})=>e,(t,e)=>!t.deps||!e.deps||t.deps.length!==e.deps.length?!1:t.deps.every((s,n)=>s===e.deps[n])),J=(t,e)=>{const s=()=>{try{const c=localStorage.getItem(t);return c?JSON.parse(c):e}catch(c){return console.error(`Error parsing localStorage item "${t}":`,c),e}},[n,o]=r.useState(s);return[n,c=>{try{o(c),localStorage.setItem(t,JSON.stringify(c))}catch(l){console.error(`Error setting localStorage item "${t}":`,l)}},()=>{try{o(e),localStorage.removeItem(t)}catch(c){console.error(`Error removing localStorage item "${t}":`,c)}}]},W=(t,e)=>{const s=()=>{try{const c=sessionStorage.getItem(t);return c?JSON.parse(c):e}catch(c){return console.error(`Error parsing sessionStorage item "${t}":`,c),e}},[n,o]=r.useState(s);return[n,c=>{try{o(c),sessionStorage.setItem(t,JSON.stringify(c))}catch(l){console.error(`Error setting sessionStorage item "${t}":`,l)}},()=>{try{o(e),sessionStorage.removeItem(t)}catch(c){console.error(`Error removing sessionStorage item "${t}":`,c)}}]},P=(t,e)=>{const[s,n]=r.useState(void 0),[o,u]=r.useState(!0),[a,c]=r.useState(void 0),[l,E]=r.useState(0),S=()=>E(f=>f+1);return r.useEffect(()=>{(async()=>{u(!0),c(void 0);try{const i=await fetch(t,{method:(e==null?void 0:e.method)||"GET",headers:{"Content-Type":"application/json",...e==null?void 0:e.headers},body:e!=null&&e.body?JSON.stringify(e.body):null});if(!i.ok)throw new Error(`Error: ${i.status}`);const v=await i.json();n(v)}catch(i){c(i.message||"An error occurred")}finally{u(!1)}})()},[t,l]),{data:s,error:a,loading:o,refetch:S}},j=({condition:t,renderIf:e,renderElse:s})=>t?r.createElement(r.Fragment,null,e):r.createElement(r.Fragment,null,s),k=({dev:t,hml:e,prod:s})=>{switch(process.env.NODE_ENV){case"dev":return r.createElement(r.Fragment,null,t);case"hml":return r.createElement(r.Fragment,null,e);case"prod":return r.createElement(r.Fragment,null,s);default:return null}},B=({eachIn:t,mapTo:e})=>r.createElement(r.Fragment,null,t.map(e)),H=({baseWidth:t,children:e})=>m(t)===d.MOBILE?r.createElement(r.Fragment,null,e):null;exports.Case=C;exports.Delayed=N;exports.Desktop=M;exports.ElseIf=j;exports.EnvSwitch=k;exports.For=w;exports.If=h;exports.Map=B;exports.Memoized=A;exports.Mobile=H;exports.Show=O;exports.Switch=T;exports.With=L;exports.useAsyncEffect=z;exports.useClickOutside=V;exports.useDebounce=D;exports.useDevice=m;exports.useElementSize=K;exports.useFetch=P;exports.useIdleDetection=$;exports.useInterval=b;exports.useIsIntersectingScreen=p;exports.useKeyCombo=R;exports.useLocalStorage=J;exports.useMounted=I;exports.usePrevious=F;exports.useSessionStorage=W;exports.useToggle=y;
